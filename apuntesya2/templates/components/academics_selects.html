{# Componente reutilizable de selects con soporte "Otra…" + inputs opcionales #}
{# Parámetros opcionales:
- prefix: string único por página (ej: 'cp', 'up', 'sr')
- names: dict con los names de los <input hidden> que usa tu backend
#}
{% set prefix = prefix or 'acad' %}
{% set names = names or {'university':'university','faculty':'faculty','career':'career'} %}

<div id="{{ prefix }}-box" class="grid" style="display:grid;gap:14px;grid-template-columns:1fr;max-width:1200px">
    <style>
        @media(min-width: 820px) {
            #{{ prefix }
        }

        -box {
            grid-template-columns: repeat(3, 1fr);
        }
        }

        .ay-select,
        .ay-input {
            width: 100%;
            padding: 12px 14px;
            border: 1px solid #d9d9e3;
            border-radius: 10px;
            background: #fff;
            font-size: 15px;
        }

        .ay-select:focus,
        .ay-input:focus {
            outline: none;
            border-color: #6ca3ff;
            box-shadow: 0 0 0 3px rgba(108, 163, 255, .15);
        }

        label {
            display: block;
            font-weight: 600;
            margin: 14px 0 6px;
        }
    </style>

    <!-- Universidad -->
    <div>
        <label>Universidad</label>
        <select id="{{ prefix }}-uni" class="ay-select">
            <option value="" selected disabled>Elegí tu Universidad</option>
            <option value="__other__">Otra…</option>
        </select>
        <input id="{{ prefix }}-uni-other" class="ay-input" type="text" placeholder="Escribí tu Universidad"
            style="display:none;margin-top:8px;">
    </div>

    <!-- Facultad -->
    <div>
        <label>Facultad</label>
        <select id="{{ prefix }}-fac" class="ay-select" disabled>
            <option value="" selected disabled>Elegí tu Facultad</option>
            <option value="__other__">Otra…</option>
        </select>
        <input id="{{ prefix }}-fac-other" class="ay-input" type="text" placeholder="Escribí tu Facultad"
            style="display:none;margin-top:8px;">
    </div>

    <!-- Carrera -->
    <div>
        <label>Carrera</label>
        <select id="{{ prefix }}-car" class="ay-select" disabled>
            <option value="" selected disabled>Elegí tu Carrera</option>
            <option value="__other__">Otra…</option>
        </select>
        <input id="{{ prefix }}-car-other" class="ay-input" type="text" placeholder="Escribí tu Carrera"
            style="display:none;margin-top:8px;">
    </div>
</div>

{# Hidden que tu backend ya espera #}
<input type="hidden" name="{{ names.university }}" id="{{ prefix }}-hidden-university">
<input type="hidden" name="{{ names.faculty }}" id="{{ prefix }}-hidden-faculty">
<input type="hidden" name="{{ names.career }}" id="{{ prefix }}-hidden-career">